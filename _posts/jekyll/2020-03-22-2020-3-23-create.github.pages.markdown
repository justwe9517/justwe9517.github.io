---
title: 使用 Travis Ci + Jekyll + Github Pages 搭建个人博客
date: 2020-03-22 15:24:00 Z
categories:
- 随笔
tags:
- 随笔
layout: post
collection: 随笔
---

# 使用 Travis Ci + Jekyll + Github Pages 搭建个人博客

一直想找一个比较好的博客平台来写博客，在尝试众多平台之后最终选择使用 Github Pages 来自己搭建一个博客。

Github Pages 的整个搭建过程其实并不复杂，但无奈网上的文章坑太多，让我在搭建的过程中走了不少弯路，于是计划新写一篇文章来好好的总结一下整个搭建过程。

太长不看版：

> 直接 fork 我这个项目 [https://github.com/trojanbox/trojanbox.github.io.travis](https://github.com/trojanbox/trojanbox.github.io.travis)。write 为文章分支，pages 使用 master 分支发布。

-----

好了不扯皮，现在进入正题：

1. 什么是 Github Pages
2. 什么是 Travis Ci
3. 为什么使用 Travis Ci 进行构建
4. 搭建

## 什么是 Github Pages

> GitHub Pages 是一项静态站点托管服务，它直接从 GitHub 上的仓库获取 HTML、CSS 和 JavaScript 文件，（可选）通过构建过程运行文件，然后发布网站。

构建过程运行文件就是 github 默认集成的 Jekyll 服务，通过这个服务你可以很轻松的发布自己的 markdown 格式内容并交给 Jekyll 来解析，自动生成静态文件。

Github Pages 提供了三种类型的仓库项目、用户和组织：

1. 用户和组织：只要你创建一个与自己的登录名或组织名开头，格式为 `<user>.github.io` 或 `<organization>.github.io` 的项目。你就可以直接通过 `http(s)://<username>.github.io` 或 `http(s)://<organization>.github.io` 来访问，比如我的博客便是采用这种方式。
   需要注意：这种类型的项目，只能使用 `master` 分支发布。
2. 项目站点：项目站点的源文件与其项目存储在同一个仓库中的，这种一般使用 `gh-pages` 分支发布，访问方式为 `http(s)://<user>.github.io/<repository>`。

我的后续文档以 `1. 用户和组织` 的搭建为准。

## 什么是 Travis Ci

简单点理解 Travis Ci 就是一个自动化操作平台（实际上功能非常强大），你只需要知道她能帮你执行所有操作，你只需要写文章就好，其他的都交给 Travis Ci 来做吧。

## 为什么使用 Travis Ci 进行构建

虽然 Github Pages 内置了 Jekyll 服务，但却不支持使用自定义插件，这就限制了 Github Pages 的使用场景。

现在咱们来看看，如果不使用 Github Pages 内置的 Jekyll 服务构建，通过手动的方式发布文章，需要进行哪几步骤操作：

1. 安装 Ruby 环境。
2. 安装 Git 服务。
3. 安装 Jekyll 服务。
4. 克隆项目。
5. 在 _post 目录中编辑文章。
6. 通过命令生成 _site 目录。
7. 使用 git 推送更改。

再来看看，如果使用 Travis-Ci 发布文章需要哪几个步骤：

1. 安装 Git 服务，克隆项目，在 _post 目录中编辑文章，使用 git 推送更改。

好了，经过我上面的简单介绍，我想大家也都清楚 Travis-Ci 是个多么强大的生产力工具。你甚至可以直接在 github.com 网站上直接编写文章。

## 搭建

搭建一个 Github Pages 平台需要具备如下条件：

1. 拥有一个 Github 账号，没有的去这里 [https://github.com/](https://github.com/) 注册一个。
2. 拥有一个 TravisCi 账号，首次访问 travis-ci 时直接使用 github 账号登录一下即可。

### 创建仓库

首先进入 github 点击右上角的加号，如下图所示：

![c432a25a298f467960517f517ff72c9](/assets/uploads/c432a25a298f467960517f517ff72c9.png)

进入 `Create a new repository` 页面后按照图中的要求操作：

![08a4a7ce65eb13958c7f2e4e10a64cd](/assets/uploads/08a4a7ce65eb13958c7f2e4e10a64cd.png)

点击 `Create repository` 按钮即可完成项目创建。

项目创建完成之后，你需要先添加一些内容进去，为了方便期间

### 登录 TravisCi 平台
-----

参考的文章：

- []
- [https://jekyllrb.com/docs/continuous-integration/travis-ci/](https://jekyllrb.com/docs/continuous-integration/travis-ci/)
- [https://travis-ci.community/t/failed-to-deploy-simple-github-pages/3335/4](https://travis-ci.community/t/failed-to-deploy-simple-github-pages/3335/4)
